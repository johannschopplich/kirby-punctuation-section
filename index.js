(function(){"use strict";const m={props:{blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number},methods:{load(){return this.$api.get(`${this.parent}/sections/${this.name}`)}}},F="";function p(e,t,s,n,a,r,c,d){var i=typeof e=="function"?e.options:e;t&&(i.render=t,i.staticRenderFns=s,i._compiled=!0),n&&(i.functional=!0),r&&(i._scopeId="data-v-"+r);var l;if(c?(l=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__<"u"&&(o=__VUE_SSR_CONTEXT__),a&&a.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(c)},i._ssrRegister=l):a&&(l=d?function(){a.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(i.functional){i._injectStyles=l;var E=i.render;i.render=function(C,h){return l.call(h),E(C,h)}}else{var u=i.beforeCreate;i.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:i}}const f={mixins:[m],props:{fieldsets:{type:Object,required:!0}},data(){return{label:null,text:[],theme:null,clipboard:!1,activeChar:null,categoryIndex:null,lastFocusedElement:null,lastSelection:null}},async created(){document.addEventListener("focus",this.trackEditableFocus,{capture:!0}),document.addEventListener("blur",this.trackEditableFocus,{capture:!0});const e=await this.load();this.label=e.label,this.theme=e.theme||"none",this.clipboard=e.clipboard||!1,this.text=this.fieldsets.map(t=>({...t,label:this.t(t.label),help:t.help?this.t(t.help):!1}))},beforeDestroy(){document.removeEventListener("focus",this.trackEditableFocus,{capture:!0}),document.removeEventListener("blur",this.trackEditableFocus,{capture:!0})},methods:{t(e){var t;return typeof e=="string"?e:(e==null?void 0:e[(t=this.$language)==null?void 0:t.code])??Object.values(e)[0]},trackEditableFocus(e){const t=e.target;t.isContentEditable?(this.lastFocusedElement=t,this.lastSelection=window.getSelection().getRangeAt(0).cloneRange()):(t.tagName==="INPUT"||t.tagName==="TEXTAREA")&&(this.lastFocusedElement=t,this.lastSelection={start:e.target.selectionStart,end:e.target.selectionEnd})},async writeToClipboard(e,t){if(this.activeChar=e,this.categoryIndex=t,setTimeout(()=>{this.activeChar=null,this.categoryIndex=null},2e3),this.clipboard)try{await navigator.clipboard.writeText(e)}catch{const n=`Failed writing "${e}" to clipboard. The Clipboard API is only available to secure contexts (HTTPS).`;console.error(n),this.$store.dispatch("notification/error",n)}else if(this.lastFocusedElement){if(this.lastFocusedElement.isContentEditable){const s=window.getSelection();s.removeAllRanges(),s.addRange(this.lastSelection);const n=s.getRangeAt(0),a=document.createTextNode(e);n.insertNode(a),n.setStartAfter(a),n.setEndAfter(a),s.removeAllRanges(),s.addRange(n)}else if(this.lastFocusedElement.tagName==="INPUT"||this.lastFocusedElement.tagName==="TEXTAREA"){const s=this.lastFocusedElement.selectionStart,n=this.lastFocusedElement.selectionEnd;this.lastFocusedElement.value=this.lastFocusedElement.value.substring(0,s)+e+this.lastFocusedElement.value.substring(n),this.lastFocusedElement.selectionStart=this.lastFocusedElement.selectionEnd=s+e.length,this.lastFocusedElement.focus()}}}}};var _=function(){var t=this,s=t._self._c;return s("k-section",{attrs:{headline:t.label}},[s("k-box",{attrs:{theme:t.theme}},[s("div",{staticClass:"container space-y-1"},t._l(t.text,function(n,a){return s("div",{key:a,staticClass:"group"},[s("div",{staticClass:"flex items-center gap-2"},[s("span",[t._v(t._s(n.label)+":")]),s("div",{staticClass:"flex items-center gap-1"},t._l(n.chars,function(r,c){return s("k-button",{key:c,class:[a===t.categoryIndex&&r===t.activeChar&&"outline outline-2 outline-[var(--color-focus)]"],attrs:{variant:"filled",size:"xs"},on:{click:function(d){return t.writeToClipboard(r,a)}}},[t._v(" "+t._s(r)+" ")])}),1)]),n.help?s("k-text",{staticClass:"text-[var(--color-text-dimmed)]",attrs:{html:n.help}}):t._e()],1)}),0)])],1)},b=[],g=p(f,_,b,!1,null,"5b421cb4",null,null);const v=g.exports,S="";window.panel.plugin("johannschopplich/punctuation-section",{sections:{punctuation:v}})})();
